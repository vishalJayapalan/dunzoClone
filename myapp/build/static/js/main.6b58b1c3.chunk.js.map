{"version":3,"sources":["components/util/cookies.js","components/context/App/AppReducer.js","components/context/App/AppContext.js","components/categories/Category.js","components/signIn&signUp/Signin.js","components/signIn&signUp/Signup.js","components/navbar/Navbar.js","components/categories/Categories.js","components/shops/Shop.js","components/shops/Shops.js","components/cart/cartButton.js","components/items/item.js","components/items/subCategoryName.js","components/items/subcategories.js","components/cart/cartItem.js","components/cart/cartItems.js","components/cart/cart.js","components/search/searchItems.js","components/search/search.js","components/cart/clearCartPopup.js","components/items/items.js","components/userAddress/userAddress.js","components/userAddress/searchUserAddressItem.js","components/userAddress/addUserAddress.js","components/checkout/Checkout.js","components/map/Map.js","components/delivery/index.js","components/delivery/DeliveryGuySignup.js","components/delivery/DeliveryGuySignin.js","components/delivery/DeliveryNavbar.js","components/delivery/DeliveryHome.js","components/business/business.js","components/pageNotFound/index.js","App.js","index.js"],"names":["getCookie","cookieName","name","cookies","document","cookie","split","index","length","trim","startsWith","slice","setCookie","value","d","Date","setTime","getTime","expires","toUTCString","state","action","type","items","payload","updatedItems","toUpdateItems","newItems","reverse","item","newItem","subcategory","unshift","cart","filter","cartItem","cartid","newCart","map","newCartItem","cartitemquantity","AppContext","createContext","initialState","AppContextProvider","props","useReducer","AppReducer","dispatch","useState","showLogin","setShowLogin","showRegister","setShowRegister","isLoggedIn","setIsLoggedIn","deliveryAddress","setDeliveryAddress","clearCartPopup","setClearCartPopup","useEffect","getUser","getCart","request","params","method","body","a","window","fetch","headers","JSON","stringify","data","getItems","shopid","ok","json","jsonData","updateItems","localCart","parse","localStorage","getItem","deleteAllItemsFromCart","forEach","cartitem","addToCart","shopname","itemid","itemname","setItem","itemsize","itemprice","quantity","uuidV4","updateItem","incOrDec","deleteAllItemsFromCartState","clear","userid","Provider","updateCart","children","Category","category","categoryid","categoryname","className","style","textDecoration","to","src","alt","Signin","useContext","email","setEmail","password","setPassword","errorMsg","setErrorMsg","userLogin","event","preventDefault","response","accessToken","console","log","msg","onClick","onSubmit","placeholder","pattern","onChange","e","target","required","title","Signup","fullname","setFullname","userRegister","Navbar","hideLoginAndLogout","Categories","categories","setCategories","fetchCategories","key","Shop","shop","Shops","match","shops","setShops","fetchShops","CartButton","inCart","Item","SubCategoryName","id","itemId","Subcategories","href","rel","toFixed","CartItems","Cart","totalPrice","showToCheckout","pathname","SearchItems","searchItem","searchResultsToItems","Search","includeSearchResults","searchName","setSearchName","searchResults","searchItemsBySubCategories","searchItems","toLowerCase","includes","All","push","ClearCartPopup","Items","lastSubCategory","disp","subcategories","UserAddress","userAddress","setAddressSelected","address","SearchUserAddressItems","addNewUserAddress","display_name","AddUserAddress","setAddNewAddress","newAddress","setNewAddress","setSearchItems","geocoding","geocoder","Nominatim","search","q","latlong","osm_id","onKeyDown","keyCode","keycode","Checkout","addressSelected","userAddresses","setUserAddresses","newOrderId","setNewOrderId","paid","setPaid","addNewAddress","shopAddress","setShopAddress","getShopDetails","getUserAddress","createOrder","deliveryaddress","shopaddress","order","orderid","prevAddresses","toPay","test","disabled","addressid","backgroundColor","socket","Map","deliveryLocation","pickupLocation","packingStatus","setPackingStatus","setOrder","mapRef","useRef","routingControlRef","addressArr","join","lat","lon","getOrderDetails","startupFunction","current","Leaflet","setView","tileLayer","attribution","addTo","Routing","control","waypoints","latLng","routeWhileDragging","setTimeout","io","emit","shopLocation","userLocation","bikeIcon","icon","iconSize","iconAnchor","popupAnchor","iconUrl","shadowUrl","bikeMarker","on","partnerName","prevOrder","deliverypartnerid","orderpickedup","delivered","location","removeLayer","marker","lng","DeliveryGuySignup","DeliveryGuySignin","deliveryGuyLogin","deliveryguyid","DeliveryNavbar","DeliveryHome","Delivery","requirement","setRequirement","orderPickStatus","setOrderPickStatus","orderStatus","setOrderStatus","setPickupLocation","setDeliveryLocation","setOrderid","ifOrderNotCompleted","updateOrder","route","cord","coordinates","interval","setInterval","shift","clearInterval","Business","PageNotFound","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b58b1c3.chunk.js","sourcesContent":["function getCookie (cookieName) {\n  const name = cookieName + '='\n  const cookies = document.cookie.split(';')\n  for (let index = 0; index < cookies.length; index++) {\n    const cookie = cookies[index].trim()\n    if (cookie.startsWith(name)) {\n      return cookie.slice(name.length, cookie.length)\n    }\n  }\n  return ''\n}\n\nconst setCookie = (name, value) => {\n  const d = new Date()\n  d.setTime(d.getTime() + 60 * 60 * 1000)\n  const expires = 'expires=' + d.toUTCString()\n  document.cookie = name + '=' + value + ';' + expires + ';path=/'\n}\n\nexport { getCookie, setCookie }\n","export default (state, action) => {\n  switch (action.type) {\n    case 'GET_ITEMS': {\n      return { ...state, items: action.payload }\n    }\n    case 'UPDATE_ITEMS': {\n      const updatedItems = action.payload.items\n      const toUpdateItems = action.payload.newItems.reverse()\n      for (const item of toUpdateItems) {\n        const newItem = { ...item }\n        newItem.subcategory = 'Search Results'\n        updatedItems.unshift(newItem)\n      }\n      return { ...state, items: updatedItems }\n    }\n    case 'GET_CART': {\n      return {\n        ...state,\n        cart: action.payload\n      }\n    }\n    case 'ADD_TO_CART': {\n      return {\n        ...state,\n        cart: [...state.cart, ...action.payload]\n      }\n    }\n    case 'DELETE_ITEM_FROM_CART': {\n      return {\n        ...state,\n        cart: state.cart.filter(\n          cartItem => cartItem.cartid !== action.payload.cartid\n        )\n      }\n    }\n    case 'DELETE_ALL_ITEM_FROM_CART': {\n      return {\n        ...state,\n        cart: []\n      }\n    }\n    case 'DECREMENT_ITEMCOUNT_FROM_CART': {\n      const newCart = state.cart.map(cartItem => {\n        if (cartItem.cartid === action.payload.cartid) {\n          const newCartItem = { ...cartItem }\n          newCartItem.cartitemquantity--\n          return newCartItem\n        }\n        return cartItem\n      })\n      return {\n        ...state,\n        cart: newCart\n      }\n    }\n    case 'INCREMENT_ITEMCOUNT_FROM_CART': {\n      const newCart = state.cart.map(cartItem => {\n        if (cartItem.cartid === action.payload.cartid) {\n          const newCartItem = { ...cartItem }\n          newCartItem.cartitemquantity++\n          return newCartItem\n        }\n        return cartItem\n      })\n      return {\n        ...state,\n        cart: newCart\n      }\n    }\n    case 'ERROR': {\n      return {\n        ...state,\n        'ERROR: ': action.payload\n      }\n    }\n    default: {\n      return {\n        ...state\n      }\n    }\n  }\n}\n","import React, { useReducer, createContext, useState, useEffect } from 'react'\nimport { getCookie } from '../../util/cookies'\nimport AppReducer from './AppReducer'\nimport { v4 as uuidV4 } from 'uuid'\n\nexport const AppContext = createContext()\n\nconst initialState = {\n  cart: [],\n  items: []\n}\n\nexport const AppContextProvider = props => {\n  const [state, dispatch] = useReducer(AppReducer, initialState)\n  const [showLogin, setShowLogin] = useState(false)\n  const [showRegister, setShowRegister] = useState(false)\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\n  const [deliveryAddress, setDeliveryAddress] = useState('')\n  const [clearCartPopup, setClearCartPopup] = useState(false)\n\n  useEffect(() => {\n    const token = getCookie('x-auth-token')\n    if (token) {\n      getUser()\n    }\n  }, [])\n  useEffect(() => {\n    getCart()\n  }, [isLoggedIn])\n\n  const request = async (params, method, body) => {\n    const data = await window.fetch('http://localhost:5000/' + params, {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth-token': getCookie('x-auth-token')\n      },\n      body: JSON.stringify(body)\n    })\n    return data\n  }\n\n  const getItems = async shopid => {\n    try {\n      const data = await request(`items/${shopid}`, 'GET')\n      if (!data.ok) {\n        throw data\n      }\n      const jsonData = await data.json()\n      dispatch({ type: 'GET_ITEMS', payload: jsonData })\n    } catch (err) {\n      dispatch({ type: 'ERROR', payload: err })\n    }\n  }\n\n  const updateItems = async (shopid, newItems) => {\n    try {\n      const data = await window.fetch(`items/${shopid}`)\n      if (!data.ok) {\n        throw data\n      }\n      const jsonData = await data.json()\n      dispatch({ type: 'UPDATE_ITEMS', payload: { items: jsonData, newItems } })\n    } catch (err) {\n      dispatch({ type: 'ERROR', payload: err })\n    }\n  }\n\n  const getCart = async () => {\n    try {\n      let jsonData = []\n      if (isLoggedIn) {\n        const localCart = JSON.parse(localStorage.getItem('Donesooo-cart'))\n        if (localCart && localCart.length) {\n          deleteAllItemsFromCart()\n          localCart.forEach(cartitem => {\n            addToCart(cartitem, cartitem.shopname)\n          })\n        } else {\n          const data = await window.fetch('cart')\n          if (!data.ok) {\n            throw data\n          }\n          jsonData = await data.json()\n        }\n      } else {\n        jsonData = JSON.parse(localStorage.getItem('Donesooo-cart')) || []\n      }\n      jsonData.length && dispatch({ type: 'GET_CART', payload: jsonData })\n    } catch (err) {\n      dispatch({ type: 'ERROR', payload: err })\n    }\n  }\n\n  async function addToCart (item, shopname) {\n    try {\n      let jsonData = []\n      if (isLoggedIn) {\n        const data = await request('cart', 'POST', {\n          item,\n          itemid: item.itemid,\n          shopname,\n          itemname: item.itemname,\n          cartitemquantity: 1\n        })\n        if (!data.ok) {\n          throw data\n        }\n        jsonData = await data.json()\n        localStorage.setItem('Donesooo-cartid', jsonData[0].cartid)\n        jsonData[0].itemsize = item.itemsize\n        jsonData[0].shopid = item.shopid\n        jsonData[0].itemprice = item.itemprice\n        jsonData[0].quantity = item.quantity\n      } else {\n        const cartid = uuidV4()\n        jsonData[0] = { ...item, shopname, cartid, cartitemquantity: 1 }\n\n        localStorage.setItem(\n          'Donesooo-cart',\n          JSON.stringify([...state.cart, jsonData[0]])\n        )\n      }\n      dispatch({ type: 'ADD_TO_CART', payload: jsonData })\n    } catch (err) {\n      dispatch({ type: 'ERROR', payload: err })\n    }\n  }\n\n  async function updateCart (updateItem, incOrDec) {\n    try {\n      if (+updateItem.cartitemquantity === 1 && incOrDec === '-') {\n        if (isLoggedIn) {\n          const data = await request(`cart/${updateItem.cartid}`, 'DELETE')\n          if (!data.ok) {\n            throw data\n          }\n        } else {\n          const cart = JSON.parse(localStorage.getItem('Donesooo-cart'))\n\n          localStorage.setItem(\n            'Donesooo-cart',\n            JSON.stringify(\n              cart.filter(cartItem => cartItem.itemid !== updateItem.itemid)\n            )\n          )\n        }\n\n        return dispatch({\n          type: 'DELETE_ITEM_FROM_CART',\n          payload: updateItem\n        })\n      }\n\n      if (incOrDec === '+')\n        dispatch({ type: 'INCREMENT_ITEMCOUNT_FROM_CART', payload: updateItem })\n      else\n        dispatch({ type: 'DECREMENT_ITEMCOUNT_FROM_CART', payload: updateItem })\n      if (isLoggedIn) {\n        await request(`cart/${updateItem.cartid}`, 'PUT', {\n          cartitemquantity: updateItem.cartitemquantity,\n          type: incOrDec\n        })\n      } else {\n        const cart = JSON.parse(localStorage.getItem('Donesooo-cart'))\n        localStorage.setItem(\n          'Donesooo-cart',\n          JSON.stringify(\n            cart.map(cartItem => {\n              if (cartItem.itemid === updateItem.itemid) {\n                if (incOrDec === '+') cartItem.cartitemquantity += 1\n                else {\n                  cartItem.cartitemquantity -= 1\n                }\n              }\n              return cartItem\n            })\n          )\n        )\n      }\n    } catch (err) {\n      dispatch({ type: 'ERROR', payload: err })\n    }\n  }\n\n  function deleteAllItemsFromCartState () {\n    dispatch({ type: 'DELETE_ALL_ITEM_FROM_CART', payload: [] })\n    localStorage.clear()\n  }\n\n  async function deleteAllItemsFromCart () {\n    if (isLoggedIn) {\n      await request('cart/all', 'DELETE')\n    }\n    deleteAllItemsFromCartState()\n  }\n\n  async function getUser () {\n    const data = await request('user/getUser', 'GET')\n    const jsonData = await data.json()\n    setIsLoggedIn(jsonData.userid)\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        cart: state.cart,\n        items: state.items,\n        getItems,\n        updateItems,\n        getCart,\n        addToCart,\n        updateCart,\n        deleteAllItemsFromCartState,\n        deleteAllItemsFromCart,\n        showLogin,\n        setShowLogin,\n        showRegister,\n        setShowRegister,\n        isLoggedIn,\n        setIsLoggedIn,\n        deliveryAddress,\n        setDeliveryAddress,\n        clearCartPopup,\n        setClearCartPopup\n      }}\n    >\n      {props.children}\n    </AppContext.Provider>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n// import path from 'path'\n\nexport default function Category (props) {\n  const { categoryid, categoryname } = props.category\n  return (\n    <div className='category-outer-container'>\n      <Link\n        style={{ textDecoration: 'none' }}\n        to={`/stores/${categoryname}/${categoryid}`}\n      >\n        <div className='category-container'>\n          <img\n            className='category-image'\n            src={`/images/${categoryname}.png`}\n            alt={`${categoryname}`}\n          />\n          <p className='category-name'>{categoryname}</p>\n        </div>\n      </Link>\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\n\nimport { AppContext } from '../context/App/AppContext'\nimport { setCookie } from '../util/cookies'\n\nexport default function Signin () {\n  const { setShowLogin, setShowRegister, setIsLoggedIn, getCart } = useContext(\n    AppContext\n  )\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMsg, setErrorMsg] = useState('')\n  const userLogin = async event => {\n    event.preventDefault()\n    try {\n      const response = await window.fetch('http://localhost:5000/user/login', {\n        method: 'POST',\n        body: JSON.stringify({ email, password }),\n        headers: {\n          'Content-type': 'application/json'\n        }\n      })\n      if (response.ok) {\n        const jsonData = await response.json()\n        setCookie('x-auth-token', jsonData.accessToken)\n        setEmail('')\n        setPassword('')\n        setShowLogin(false)\n        setIsLoggedIn(jsonData.userid)\n        getCart()\n      } else {\n        throw response\n      }\n    } catch (err) {\n      const jsonData = await err.json()\n      console.log('jsonError', jsonData)\n      setEmail('')\n      setPassword('')\n      setErrorMsg(jsonData.msg)\n      // console.log(err)\n    }\n  }\n  return (\n    <div>\n      <div className='overlay'>\n        <div className='signin-container'>\n          <div className='form-container'>\n            <div className='signupNin-title-container'>\n              <h1 className='heading'>Login</h1>\n              <img\n                src='/images/closeIcon.png'\n                onClick={() => setShowLogin(false)}\n              />\n            </div>\n            <form onSubmit={userLogin}>\n              <div className='errorMessage'>{errorMsg}</div>\n              <div className='form-row'>\n                <label>Email</label>\n                <input\n                  type='email'\n                  value={email}\n                  placeholder='Enter Email'\n                  pattern='.{6,}'\n                  onChange={e => setEmail(e.target.value)}\n                  required\n                  title='Enter a valid email address with atleast 6 characters'\n                />\n              </div>\n              <div className='form-row'>\n                <label>Password</label>\n                <input\n                  type='password'\n                  value={password}\n                  placeholder='Enter Password'\n                  required\n                  pattern='.{6,}'\n                  title='6 characters minimum'\n                  onChange={e => setPassword(e.target.value)}\n                />\n              </div>\n              <div className='form-row'>\n                <button type='submit'>Log In</button>\n              </div>\n              <div className='form-footer'>\n                <p\n                  onClick={() => {\n                    setShowLogin(false)\n                    setShowRegister(true)\n                  }}\n                >\n                  Dont have an account,click here to Register\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\n\nimport { AppContext } from '../context/App/AppContext'\nimport { setCookie } from '../util/cookies'\n\nexport default function Signup () {\n  const { setShowRegister, setShowLogin, setIsLoggedIn, getCart } = useContext(\n    AppContext\n  )\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [fullname, setFullname] = useState('')\n  const [errorMsg, setErrorMsg] = useState('')\n\n  const userRegister = async event => {\n    event.preventDefault()\n    try {\n      const response = await window.fetch('http://localhost:5000/user/', {\n        method: 'POST',\n        body: JSON.stringify({\n          email,\n          fullname,\n          password\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      if (response.ok) {\n        const jsonData = await response.json()\n        setEmail('')\n        setFullname('')\n        setPassword('')\n        setCookie('x-auth-token', jsonData.accessToken)\n        setIsLoggedIn(jsonData.userid)\n        getCart()\n      } else {\n        throw response\n      }\n    } catch (err) {\n      const jsonData = await err.json()\n      console.log('jsonError', jsonData)\n      setEmail('')\n      setPassword('')\n      setErrorMsg(jsonData.msg)\n      console.log(err)\n    }\n  }\n  return (\n    <div>\n      <div className='overlay'>\n        <div className='signup-container'>\n          <div className='form-container'>\n            <div className='signupNin-title-container'>\n              <h1 className='heading'>Register</h1>\n              <img\n                src='/images/closeIcon.png'\n                onClick={() => setShowRegister(false)}\n              />\n            </div>\n            <form onSubmit={userRegister}>\n              <div className='errorMessage'>{errorMsg}</div>\n              <div className='form-row'>\n                <label>Full Name</label>\n                <input\n                  value={fullname}\n                  placeholder='Enter Full Name'\n                  onChange={e => setFullname(e.target.value)}\n                  required\n                  title='enter a valid email address'\n                />\n              </div>\n              <div className='form-row'>\n                <label>Email</label>\n                <input\n                  type='email'\n                  value={email}\n                  placeholder='Enter Email'\n                  onChange={e => setEmail(e.target.value)}\n                  required\n                  title='enter a valid email address'\n                />\n              </div>\n              <div className='form-row'>\n                <label>Password</label>\n                <input\n                  type='password'\n                  value={password}\n                  placeholder='Enter password'\n                  required\n                  pattern='.{6,}'\n                  title='6 characters minimum'\n                  onChange={e => setPassword(e.target.value)}\n                />\n              </div>\n              <div className='form-row'>\n                <button type='submit'>Register</button>\n              </div>\n              <div className='form-footer'>\n                <p\n                  onClick={() => {\n                    setShowLogin(true)\n                    setShowRegister(false)\n                  }}\n                >\n                  If already registered user, click here to Login\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport Signin from '../signIn&signUp/Signin'\nimport Signup from '../signIn&signUp/Signup'\n\nimport { AppContext } from '../context/App/AppContext'\n\nexport default function Navbar ({ hideLoginAndLogout }) {\n  const {\n    showLogin,\n    showRegister,\n    setShowLogin,\n    isLoggedIn,\n    setIsLoggedIn,\n    cart,\n    deleteAllItemsFromCartState\n  } = useContext(AppContext)\n  return (\n    <div className='nav-container'>\n      <span className='app-name'>Donesooo</span>\n      <div></div>\n\n      {!hideLoginAndLogout && (\n        <div className='nav-cartimg-signin-container'>\n          <div className='nav-cart-container'>\n            <img\n              src='/images/cart2.png'\n              alt='cart-icon'\n              className='nav-cart-image'\n            />\n            {cart.length ? (\n              <div className='nav-cart-count'>{cart.length}</div>\n            ) : (\n              <div />\n            )}\n          </div>\n          {isLoggedIn ? (\n            <span\n              className='nav-signin-btn'\n              onClick={() => {\n                setIsLoggedIn(false)\n                document.cookie =\n                  'x-auth-token=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;'\n                deleteAllItemsFromCartState()\n              }}\n            >\n              Logout\n            </span>\n          ) : (\n            <span className='nav-signin-btn' onClick={() => setShowLogin(true)}>\n              Sign in\n            </span>\n          )}\n        </div>\n      )}\n      {showLogin && <Signin />}\n      {showRegister && <Signup />}\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport Category from './Category'\nimport Navbar from '../navbar/Navbar'\nimport { getCookie } from '../util/cookies'\n\nexport default function Categories () {\n  const [categories, setCategories] = useState([])\n\n  const fetchCategories = async () => {\n    const data = await window.fetch('http://localhost:5000/categories', {\n      method: 'GET',\n      headers: {\n        'Content-type': 'application/json',\n        'x-auth-token': getCookie('x-auth-token')\n      }\n    })\n\n    const jsonData = await data.json()\n    setCategories(jsonData)\n  }\n\n  useEffect(() => {\n    fetchCategories()\n  }, [])\n\n  return (\n    <div className='categories-page'>\n      <Navbar />\n      <h1 className='category-title'>What Do you Want To Get Done?</h1>\n      <div className='categories-container'>\n        {categories.map(category => (\n          <Category key={category.categoryid} category={category} />\n        ))}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default function Shop (props) {\n  return (\n    <div>\n      <Link\n        style={{ textDecoration: 'none' }}\n        to={`/${props.shop.categoryid}/shop/${props.shop.shopname}/${props.shop.shopid}`}\n      >\n        <div className='shop-container'>\n          <img\n            className='shop-image'\n            src='/images/groceries.jpeg'\n            alt='shopName'\n          />\n          <div className='shop-name-container'>\n            <p className='shop-name'>{props.shop.shopname}</p>\n            <p className='shop-address'>kannur-kerala</p>\n          </div>\n        </div>\n      </Link>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\n\nimport Shop from './Shop'\nimport Navbar from '../navbar/Navbar'\nimport { getCookie } from '../util/cookies'\n\nexport default function Shops (props) {\n  const { categoryname, categoryid } = props.match.params\n  const [shops, setShops] = useState([])\n  const fetchShops = async () => {\n    const data = await window.fetch(\n      `http://localhost:5000/shops/${categoryid}`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json',\n          'x-auth-token': getCookie('x-auth-token')\n        }\n      }\n    )\n    const jsonData = await data.json()\n    setShops(jsonData)\n  }\n\n  useEffect(() => {\n    fetchShops()\n  }, [])\n  return (\n    <div>\n      <Navbar />\n      <div className='category-name-inshop-container'>\n        <img\n          className='category-name-inshop-img'\n          src={`/images/${categoryname}.png`}\n          alt='catimg'\n        ></img>\n        <h3 className='category-name-inshop'>{categoryname}</h3>\n      </div>\n      <div className='shops-page'>\n        <div className='shops-container'>\n          {shops.map(shop => (\n            <Shop key={shop.shopid} shop={shop} />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\n\nimport { AppContext } from '../context/App/AppContext'\n\nexport default function CartButton (props) {\n  const { updateCart } = useContext(AppContext)\n\n  return (\n    <div>\n      <div className='cart-buttons-container'>\n        <button className='minus' onClick={() => updateCart(props.inCart, '-')}>\n          -\n        </button>\n        <div>{props.inCart.cartitemquantity}</div>\n        <button className='plus' onClick={() => updateCart(props.inCart, '+')}>\n          +\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\n\nimport { AppContext } from '../context/App/AppContext'\n\nimport CartButton from '../cart/cartButton'\n\nexport default function Item (props) {\n  const { cart, addToCart, setClearCartPopup } = useContext(AppContext)\n  let inCart = null\n  cart.forEach(cartItem => {\n    if (cartItem.itemid === props.item.itemid) {\n      inCart = cartItem\n    }\n  })\n  return (\n    <div className='item-container'>\n      <div className='item-image-container'>\n        <img src='/images/groceries.jpeg' alt='item' className='item'></img>\n      </div>\n      <div className='item-name-container'>\n        <p className='item-name'>{props.item.itemname}</p>\n        <p> {props.item.itemprice}</p>\n        <p>{props.item.itemsize}</p>\n      </div>\n      <div className='item-button-container'>\n        {inCart ? (\n          <CartButton inCart={inCart} />\n        ) : (\n          <button\n            className='item-button-add'\n            onClick={() => {\n              if (cart.length && cart[0].shopname !== props.shopname) {\n                return setClearCartPopup(true)\n              }\n              addToCart(props.item, props.shopname)\n            }}\n          >\n            + Add\n          </button>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function SubCategoryName (props) {\n  return (\n    <div className='subcategory-container' id={props.itemId}>\n      <h3>{props.subcategory}</h3>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Subcategories (props) {\n  return (\n    <div>\n      <a\n        className='subcategory-button'\n        href={'#' + props.itemId}\n        rel='internal'\n      >\n        {props.subcategory}\n      </a>\n      {/* <button className='subcategory-button'>{props.subcategory}</button> */}\n    </div>\n  )\n}\n","import React from 'react'\n\nimport CartButton from './cartButton'\n\nexport default function cartItem (props) {\n  return (\n    <div className='cart-item-container'>\n      <div className='cart-item-description'>\n        <p>{props.cartItem.itemname}</p>\n        <p>{props.cartItem.itemsize}</p>\n      </div>\n      <CartButton inCart={props.cartItem} /> {/* can removeupdateCart */}\n      <p>\n        {' '}\n        {(props.cartItem.itemprice * props.cartItem.cartitemquantity).toFixed(\n          2\n        )}\n      </p>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\n\nimport { AppContext } from '../context/App/AppContext'\nimport CartItem from './cartItem'\n\nexport default function CartItems () {\n  const { cart } = useContext(AppContext)\n  return (\n    <div className='cart-items-container'>\n      {cart.map(cartItem => (\n        <CartItem key={cartItem.cartid} cartItem={cartItem} />\n      ))}\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport CartItems from './cartItems'\n\nimport { AppContext } from '../context/App/AppContext'\n\nexport default function Cart (props) {\n  const { cart } = useContext(AppContext)\n  let totalPrice = 0\n  cart.forEach(cartItem => {\n    totalPrice += cartItem.itemprice * cartItem.cartitemquantity\n  })\n  return (\n    <div className='cart-container'>\n      <div className='cart-title-container'>\n        <h3 className='cart-title'>Your Cart</h3>\n        {cart.length !== 0 && (\n          <span className='cart-items-count'>({cart.length} Items)</span>\n        )}\n      </div>\n      {!cart.length ? (\n        <div className='nocart-container'>\n          <img\n            className='nocart-image'\n            src='/images/noCartImg.png'\n            alt='**{Eeshvara}**'\n          />\n          <p>Your cart is empty </p>\n          <p>Add items to get started</p>\n        </div>\n      ) : (\n        <div className='cart-shopname'>{cart[0].shopname}</div>\n      )}\n      <CartItems />\n      {cart.length !== 0 && (\n        <div className='cart-totalprice-container'>\n          <span>Item Total</span>\n          <span> {totalPrice.toFixed(2)} </span>\n        </div>\n      )}\n      {cart.length !== 0 && props.showToCheckout && (\n        <div className='checkout-button-container'>\n          <Link\n            className='proceed-to-checkout-btn'\n            to={{ pathname: `/checkout/${cart[0].shopid}`, state: 'test' }}\n          >\n            {/* <button\n            // className='proceed-to-checkout-btn'\n            // style={{ cursor: 'pointer' }}\n            > */}\n            Proceed To Checkout\n            {/* </button> */}\n          </Link>\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function SearchItems ({\n  searchItem,\n  subcategory,\n  searchResultsToItems\n}) {\n  return (\n    <div className='searched-item-on-subcategory'>\n      <p onClick={() => searchResultsToItems(subcategory)}>\n        {searchItem.itemname} in{' '}\n        <span className='search-subcategory'>{subcategory}</span>\n      </p>\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport { AppContext } from '../context/App/AppContext'\nimport SearchItems from './searchItems'\n\nexport default function Search ({ includeSearchResults }) {\n  const [searchName, setSearchName] = useState('')\n  const { items } = useContext(AppContext)\n  let searchResults = []\n  const searchItemsBySubCategories = {}\n  const searchItems = []\n  const searchResultsToItems = subcategory => {\n    includeSearchResults(searchItemsBySubCategories[subcategory])\n    setSearchName('')\n  }\n  if (searchName) {\n    searchResults = items.filter(item => {\n      return (\n        item.itemname.toLowerCase().includes(searchName.toLowerCase()) &&\n        item.subcategory !== 'Search Results'\n      )\n    })\n    if (searchResults.length) {\n      searchItemsBySubCategories.All = searchResults\n      searchItems.push(\n        <SearchItems\n          key={searchResults[0].itemid + 'allid'}\n          searchItem={searchResults[0]}\n          subcategory={'All'}\n          searchResultsToItems={searchResultsToItems}\n        />\n      )\n    }\n    for (const item of items) {\n      if (\n        item.itemname.toLowerCase().includes(searchName.toLowerCase()) &&\n        item.subcategory !== 'Search Results'\n      ) {\n        if (searchItemsBySubCategories[item.subcategory]) {\n          searchItemsBySubCategories[item.subcategory].push(item)\n        } else {\n          searchItemsBySubCategories[`${item.subcategory}`] = [item]\n          searchItems.push(\n            <SearchItems\n              key={item.itemid + 'searchid'}\n              searchItem={item}\n              subcategory={item.subcategory}\n              searchResultsToItems={searchResultsToItems}\n            />\n          )\n        }\n      }\n    }\n  }\n\n  return (\n    <div className='search-outer-container'>\n      <div className='search-item-container'>\n        <input\n          className='search-item'\n          placeholder='Search for an item'\n          value={searchName}\n          onChange={e => setSearchName(e.target.value)}\n        />\n      </div>\n      {searchName.length > 0 && (\n        <div className='searched-items-on-subcategories'>{searchItems}</div>\n      )}\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\n\nimport { AppContext } from '../context/App/AppContext'\n\nexport default function ClearCartPopup () {\n  const { setClearCartPopup, deleteAllItemsFromCart } = useContext(AppContext)\n  return (\n    <div className='overlay'>\n      <div className='clear-cart-popup-container'>\n        <div className='clear-cart-title-container'>\n          <h3>Clear cart?</h3>\n          <p>\n            Your cart Contains items from different shop.Do you want to clear\n            the cart and add items from this shop\n          </p>\n        </div>\n        <div className='clear-cart-buttons-container'>\n          <button className='cancel' onClick={() => setClearCartPopup(false)}>\n            Cancel\n          </button>\n          <button\n            className='clear-cart'\n            onClick={() => {\n              deleteAllItemsFromCart()\n              setClearCartPopup(false)\n            }}\n          >\n            Clear Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useContext } from 'react'\nimport Item from './item'\nimport SubCategoryName from './subCategoryName'\nimport Subcategories from './subcategories'\nimport Cart from '../cart/cart'\nimport Navbar from '../navbar/Navbar'\nimport Search from '../search/search'\nimport ClearCartPopup from '../cart/clearCartPopup'\n\nimport { AppContext } from '../context/App/AppContext'\n\nexport default function Items (props) {\n  const { items, getItems, updateItems, clearCartPopup } = useContext(\n    AppContext\n  )\n\n  useEffect(() => {\n    getItems(props.match.params.shopid)\n  }, [])\n\n  let lastSubCategory = null\n  const disp = []\n  const subcategories = []\n  items.forEach(item => {\n    if (lastSubCategory !== item.subcategory) {\n      lastSubCategory = item.subcategory\n      disp.push(\n        <SubCategoryName\n          key={\n            item.subcategory === 'Search Results'\n              ? item.itemid + 'searchResults'\n              : item.itemid + 'subname'\n          }\n          itemId={item.itemid}\n          subcategory={item.subcategory}\n        />\n      )\n      subcategories.push(\n        <Subcategories\n          key={\n            item.subcategory === 'Search Results'\n              ? item.itemid + 'searchResultsCat'\n              : item.itemid + 'subcat'\n          }\n          itemId={item.itemid}\n          subcategory={item.subcategory}\n        />\n      )\n    }\n    disp.push(\n      <Item\n        key={\n          item.subcategory === 'Search Results'\n            ? item.itemid + 'searchResultsItem'\n            : item.itemid\n        }\n        userid\n        item={item}\n        shopname={props.match.params.shopname}\n      />\n    )\n  })\n\n  const includeSearchResults = newItems => {\n    updateItems(props.match.params.shopid, newItems)\n  }\n\n  return (\n    <div className='items-page'>\n      <Navbar />\n      {clearCartPopup && <ClearCartPopup />}\n      <div className='items-shop-name-container'>\n        {/* PUT IMAGE OF SHOP HERE */}\n        {/* <img\n          className='category-name-inshop-img'\n          src={`/images/${props.match.params}.png`}\n          alt='catimg'\n        /> */}\n        <h1 className='items-shop-name'>{props.match.params.shopname}</h1>\n      </div>\n      <div className='items-flex-container'>\n        <Search includeSearchResults={includeSearchResults} />\n\n        <div className='items-grid-container'>\n          <div className='subcategories-container'>{subcategories}</div>\n          <div className='items-container'>{disp}</div>\n          <Cart showToCheckout={true} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function UserAddress ({ userAddress, setAddressSelected }) {\n  return (\n    <div\n      className='address-container'\n      onClick={() => setAddressSelected(userAddress.address)}\n    >\n      <h2>{userAddress.category}</h2>\n      <p>{userAddress.address}</p>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function SearchUserAddressItems ({\n  address,\n  addNewUserAddress\n}) {\n  return (\n    <div>\n      <p\n        className='searched-address'\n        onClick={() => addNewUserAddress(address.display_name)}\n      >\n        {address.display_name}\n      </p>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\n\nimport Nominatim from 'nominatim-geocoder'\n\nimport './userAddress.css'\n\nimport SearchUserAddressItem from './searchUserAddressItem'\n\nexport default function AddUserAddress ({\n  setAddNewAddress,\n  addNewUserAddress\n}) {\n  const [newAddress, setNewAddress] = useState('')\n  const [searchItems, setSearchItems] = useState([])\n\n  const geocoding = async address => {\n    const geocoder = new Nominatim()\n\n    const latlong = await geocoder.search({ q: address })\n    setSearchItems(\n      latlong.map(address => (\n        <SearchUserAddressItem\n          key={address.osm_id}\n          address={address}\n          addNewUserAddress={addNewUserAddress}\n        />\n      ))\n    )\n  }\n\n  return (\n    <div>\n      <div className='overlay'>\n        <div className='add-address-container'>\n          <div className='search-drop-location-container'>\n            <div className='search-drop-location-title-container'>\n              <h3>Search Drop Location</h3>\n              <img\n                src='/images/closeIcon.png'\n                alt='close-icon'\n                onClick={() => setAddNewAddress(false)}\n              />\n            </div>\n            <input\n              className='user-address-input'\n              type='text'\n              placeholder='Enter the address'\n              value={newAddress}\n              onKeyDown={event => {\n                if (event.keyCode === 13) {\n                  geocoding(newAddress)\n                }\n                // console.log(event.keyCode)\n              }}\n              onChange={event => {\n                if (event.keycode !== 13) setNewAddress(event.target.value)\n              }}\n            />\n          </div>\n          <div className='searched-addresses-container'>\n            {searchItems.length ? (\n              searchItems\n            ) : (\n              <img\n                className='waiting-image'\n                src='/images/searchUserAddressImage.png'\n                alt='waiting for input or address not found'\n              ></img>\n            )}\n            {/* {searchItems} */}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport { getCookie } from '../util/cookies'\n\nimport Navbar from '../navbar/Navbar'\nimport './Checkout.css'\n\nimport Cart from '../cart/cart'\nimport { AppContext } from '../context/App/AppContext'\n\nimport UserAddress from '../userAddress/userAddress'\nimport AddUserAddress from '../userAddress/addUserAddress'\n\nexport default function Checkout (props) {\n  const { setShowLogin, isLoggedIn, deleteAllItemsFromCart, cart } = useContext(\n    AppContext\n  )\n  const [addressSelected, setAddressSelected] = useState(false)\n\n  const [userAddresses, setUserAddresses] = useState([])\n\n  const [newOrderId, setNewOrderId] = useState(null)\n\n  const [paid, setPaid] = useState(false)\n\n  const [addNewAddress, setAddNewAddress] = useState('')\n  const [shopAddress, setShopAddress] = useState('')\n\n  const getShopDetails = async () => {\n    const data = await window.fetch(\n      `http://localhost:5000/shops/shop/${props.match.params.shopid}`\n    )\n    if (data.ok) {\n      const jsonData = await data.json()\n      setShopAddress(jsonData[0].address)\n    }\n  }\n\n  useEffect(() => {\n    getShopDetails()\n  }, [])\n\n  const getUserAddress = async () => {\n    const data = await window.fetch(\n      `http://localhost:5000/userAddress/${isLoggedIn}`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': getCookie('x-auth-token')\n        }\n      }\n    )\n    if (data.ok) {\n      const jsonData = await data.json()\n      setUserAddresses(jsonData)\n    } else {\n    }\n  }\n\n  useEffect(() => {\n    if (isLoggedIn) getUserAddress()\n  }, [isLoggedIn])\n\n  const createOrder = async () => {\n    const data = await window.fetch(`http://localhost:5000/order`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth-token': getCookie('x-auth-token')\n      },\n      body: JSON.stringify({\n        deliveryaddress: addressSelected,\n        shopaddress: shopAddress\n      })\n    })\n    if (data.ok) {\n      const order = await data.json()\n      setNewOrderId(order[0].orderid)\n    }\n  }\n\n  const addNewUserAddress = async address => {\n    const data = await window.fetch(\n      `http://localhost:5000/useraddress/${isLoggedIn}`,\n      {\n        method: 'POST',\n        body: JSON.stringify({ address, category: 'Home' }),\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': getCookie('x-auth-token')\n        }\n      }\n    )\n    if (data.ok) {\n      const newAddress = await data.json()\n      setUserAddresses(prevAddresses => [...prevAddresses, newAddress[0]])\n      setAddNewAddress(false)\n    }\n  }\n\n  const toPay = async () => {\n    deleteAllItemsFromCart()\n    await createOrder()\n    setPaid(true)\n  }\n\n  if (paid) {\n    return (\n      <div>\n        <Redirect\n          to={{\n            pathname: `/track-order/${newOrderId}`,\n            state: { test: 'test' }\n          }}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className='checkout-page'>\n      <Navbar />\n      {addNewAddress && (\n        <AddUserAddress\n          setAddNewAddress={setAddNewAddress}\n          addNewUserAddress={addNewUserAddress}\n        />\n      )}\n      <div className='checkout-container'>\n        <div className='checkout-signin-deliveryaddress-paybtn'>\n          {/* LOGIN SECTION */}\n          {!isLoggedIn && (\n            <div className='checkout-signin-container'>\n              <div className='checkout-signin-inner-container'>\n                <h2 className='checkout-signin-title'>\n                  Sign in to place your order\n                </h2>\n                <p className='checkout-signin-info'>\n                  New to dunzoClone? Signup/Signin to get started\n                </p>\n                <button\n                  className='checkout-signinBtn'\n                  onClick={() => {\n                    setShowLogin(true)\n                  }}\n                >\n                  Sign In\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* ADDRESS SECTION */}\n\n          <div className='checkout-delivery-address-container' disabled={true}>\n            <div className='checkout-delivery-address-title-container'>\n              <h2 className='checkout-address-title'>Add delivery address</h2>\n              <p className='address-description'>\n                Choose your delivery address from address book or add new\n              </p>\n            </div>\n            {isLoggedIn && !addressSelected && (\n              <div className='addresses-container'>\n                <div\n                  className='add-new-address-container'\n                  onClick={() => setAddNewAddress(true)}\n                >\n                  <p>\n                    <span>+</span> Add new Address\n                  </p>\n                </div>\n                {userAddresses.map(userAddress => (\n                  <UserAddress\n                    key={userAddress.addressid}\n                    userAddress={userAddress}\n                    setAddressSelected={setAddressSelected}\n                  />\n                ))}\n              </div>\n            )}\n            {addressSelected && (\n              <div className='selected-address-container'>\n                <div className='selected-address-title-container'>\n                  <h2>Selected Address: </h2>\n                  <button onClick={() => setAddressSelected(false)}>\n                    Change\n                  </button>\n                </div>\n                <div>\n                  <div className='selected-address'>\n                    {/* <h2>Home</h2> */}\n                    <p>{addressSelected}</p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          <button\n            className='paybtn'\n            disabled={!(addressSelected && isLoggedIn && cart.length)}\n            onClick={() => {\n              toPay()\n            }}\n            style={\n              !(addressSelected && isLoggedIn && cart.length)\n                ? { backgroundColor: 'grey' }\n                : { backgroundColor: 'green' }\n            }\n          >\n            Pay\n          </button>\n          {/* </Link> */}\n        </div>\n\n        {/* CART SECTION */}\n        <div className='checkout-cart-invoice-container'>\n          <div className='checkout-cart-container'>\n            <Cart showToCheckout={false} />\n          </div>\n          <div className='checkout-invoice-container'>{/* <Invoice /> */}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport './Map.css'\n\nimport Leaflet from 'leaflet'\nimport 'leaflet-routing-machine'\n\nimport Nominatim from 'nominatim-geocoder'\n\nimport Navbar from '../navbar/Navbar'\n\nimport { getCookie } from '../util/cookies'\n\nimport io from 'socket.io-client'\nlet socket\nconst endpoint = 'http://localhost:5000'\nsocket = io(endpoint)\n\nexport default function Map (props) {\n  // const [liveLocation, setLiveLocation] = useState({\n  //   latitude: 11.868762,\n  //   longitude: 75.384577\n  // })\n  // const [deliveryPartnerId, setDeliveryPartnerId] = useState(null)\n\n  // const position = [11.858762, 75.404577]\n  // const position2 = [11.877094, 75.372391]\n  // const [deliveryLocation, setDeliveryLocation] = useState('')\n  // const [pickupLocation, setPickupLocation] = useState('')\n  let deliveryLocation = ''\n  let pickupLocation = ''\n  // const [orderCompleted, setOrderCompleted] = useState(false)\n  const [packingStatus, setPackingStatus] = useState(false)\n  // const [orderPickStatus, setOrderPickStatus] = useState(false)\n  const [order, setOrder] = useState({})\n\n  const mapRef = useRef(null)\n  const routingControlRef = useRef(null)\n\n  const orderid = props.match.params.orderid\n\n  // let bikeMarker\n\n  const geocoding = async address => {\n    const geocoder = new Nominatim()\n    // console.log('address', address)\n    const addressArr = address.split(',')\n\n    address = addressArr.slice(0, 9)\n    address = address.join(',')\n    const latlong = await geocoder.search({ q: address })\n    // console.log('latlong', latlong)\n    // console.log('lat:', latlong[0].lat, 'lon:', latlong[0].lon)\n    return [latlong[0].lat, latlong[0].lon]\n  }\n\n  const map = () => {\n    // console.log('deliveryLocationInMap', deliveryLocation)\n    mapRef.current = Leaflet.map('mapid').setView(deliveryLocation, 10)\n    Leaflet.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: ' OpenStreetMap contributors'\n    }).addTo(mapRef.current)\n\n    // geocoding('Shoppers')\n\n    // let location = []\n    // function success (position) {\n    //   const latitude = position.coords.latitude\n    //   const longitude = position.coords.longitude\n    //   setLiveLocation({ latitude, longitude })\n    //   location = [latitude, longitude]\n    // }\n\n    routingControlRef.current = Leaflet.Routing.control({\n      waypoints: [\n        Leaflet.latLng(deliveryLocation),\n        Leaflet.latLng(pickupLocation)\n      ],\n      routeWhileDragging: true\n    }).addTo(mapRef.current)\n  }\n\n  const getOrderDetails = async () => {\n    const data = await window.fetch(`http://localhost:5000/order/${orderid}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth-token': getCookie('x-auth-token')\n      }\n    })\n    if (data.ok) {\n      const jsonData = await data.json()\n      setOrder(jsonData[0])\n      // console.log(jsonData[0])\n      // console.log('order', jsonData[0])\n\n      deliveryLocation = await geocoding(jsonData[0].deliveryaddress)\n      // console.log('deliveryLocation', deliveryLocation)\n\n      pickupLocation = await geocoding(jsonData[0].shopaddress)\n      // console.log('pickUpLocation', pickupLocation)\n    }\n  }\n\n  const startupFunction = async () => {\n    await getOrderDetails()\n    map()\n    setTimeout(() => {\n      setPackingStatus(true)\n      socket = io(endpoint)\n      socket.emit('deliveryPartnerRequired', {\n        shopname: 'Shoppers Stop',\n        orderid,\n        shopLocation: pickupLocation,\n        userLocation: deliveryLocation\n      })\n    }, 5000)\n  }\n\n  useEffect(() => {\n    startupFunction()\n  }, [])\n  const bikeIcon = Leaflet.icon({\n    iconSize: [25, 41],\n    iconAnchor: [10, 41],\n    popupAnchor: [2, -40],\n    iconUrl: '/images/bikeImg.jpg',\n    shadowUrl: 'https://unpkg.com/leaflet@1.6/dist/images/marker-shadow.png'\n  })\n  let bikeMarker = null\n\n  useEffect(() => {\n    socket.on('partnerAssigned', partnerName => {\n      setOrder(prevOrder => {\n        return { ...prevOrder, deliverypartnerid: partnerName }\n      })\n    })\n    socket.on('orderPickedUp', () => {\n      setOrder(prevOrder => {\n        return { ...prevOrder, orderpickedup: true }\n      })\n    })\n    socket.on('orderDelivered', () => {\n      setOrder(prevOrder => {\n        return { ...prevOrder, delivered: true }\n      })\n    })\n\n    if (order.deliverypartnerid != 0) {\n      socket.on('deliveryLiveLocation', location => {\n        if (bikeMarker !== null) mapRef.current.removeLayer(bikeMarker)\n        bikeMarker = Leaflet.marker([location.lat, location.lng], {\n          icon: bikeIcon\n        }).addTo(mapRef.current)\n      })\n    }\n  }, [packingStatus])\n\n  return (\n    <div className='track-order-page'>\n      <Navbar hideLoginAndLogout={true} />\n      <div className='track-order-container'>\n        <div className='track-title-container'>\n          <h3>Track Your Order</h3>\n        </div>\n        <div className='map-delivery-detail'>\n          <div id='mapid' />\n          <div className='delivery-process-details-container'>\n            <div className='order-details'>\n              <p>Order received</p>\n            </div>\n\n            <div className='order-details'>\n              {packingStatus && <p>Items Packed</p>}\n            </div>\n\n            <div className='order-details'>\n              {order.deliverypartnerid != 0 && <p>Delivery Partner Assigned</p>}\n            </div>\n\n            <div className='order-details'>\n              {order.orderpickedup && <p>Order picked up</p>}\n            </div>\n            <div className='order-details'>\n              {order.delivered && <p>Delivered</p>}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='item-list-container'></div>\n    </div>\n  )\n}\n","import React, { useEffect, useState, useRef } from 'react'\nimport './delivery.css'\nimport io from 'socket.io-client'\n\nimport Leaflet, { routing } from 'leaflet'\nimport 'leaflet-routing-machine'\n\nimport { getCookie } from '../util/cookies'\n\n\nlet socket\n// const endpoint = 'http://192.168.1.13:5000'\nconst endpoint = 'http://localhost:5000'\n\nsocket = io(endpoint)\nexport default function Delivery () {\n  const [requirement, setRequirement] = useState(null)\n  const [orderPickStatus, setOrderPickStatus] = useState(false)\n  const [orderStatus, setOrderStatus] = useState(false)\n  // const position = [11.858762, 75.404577]\n  // let position2 = [11.877094, 75.372391]\n  const [pickupLocation, setPickupLocation] = useState([])\n  const [deliveryLocation, setDeliveryLocation] = useState([])\n  const [orderid, setOrderid] = useState(null)\n\n  const mapRef = useRef(null)\n  const routingControlRef = useRef(null)\n\n  const ifOrderNotCompleted = async()=>{\n    const data = await window.fetch('http://localhost:5000/order/ongoing',{\n      method:'GET',\n      headers:{\n        'Content-type': 'application/json',\n        'deliveryguy-token': getCookie('delivery-token')\n      }\n    })\n    const jsonData = await data.json()\n    console.log(jsonData)\n    setRequirement(jsonData.shopaddress)\n    setPickupLocation(jsonData.deliveryaddress)\n    setDeliveryLocation(jsonData.shopaddress)\n    setOrderid(jsonData.orderid)\n  }\n\n  useEffect(()=>{\n    ifOrderNotCompleted()\n  },[])\n\n  useEffect(() => {\n    socket.on(\n      'toDeliveryPartner',\n      ({ shopname, orderid, shopLocation, userLocation }) => {\n        setRequirement(shopname)\n        setPickupLocation(shopLocation)\n        setDeliveryLocation(userLocation)\n        setOrderid(orderid)\n      }\n    )\n  })\n\n  const updateOrder = async (name, value) => {\n    console.log('orderid', orderid)\n    const data = await window.fetch(`http://localhost:5000/order/${orderid}`, {\n      method: 'PUT',\n      body: JSON.stringify({ name, value }),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth-token': getCookie('x-auth-token')\n      }\n    })\n    if (data.ok) {\n      const jsonData = await data.json()\n      // setOrder(jsonData[0])\n      console.log('order', jsonData[0])\n      // setNewOrderId(order[0].orderid)\n    }\n  }\n\n  function orderStatusUpdation () {\n    // if (status) {\n    socket.emit('deliveryPartnerAssigned', 'speedo')\n    setOrderStatus(true)\n    updateOrder('deliverypartnerid', 1)\n\n    // }\n  }\n  function orderPickedUp () {\n    setOrderPickStatus(true)\n    socket.emit('orderPicked')\n    updateOrder('orderpickedup', true)\n  }\n  function orderCompleted () {\n    socket.emit('orderCompleted')\n    updateOrder('delivered', true)\n  }\n\n  useEffect(() => {\n    const map = () => {\n      mapRef.current = Leaflet.map('mapid').setView(deliveryLocation, 10)\n\n      Leaflet.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: ' OpenStreetMap contributors'\n      }).addTo(mapRef.current)\n\n      const bikeIcon = Leaflet.icon({\n        iconSize: [25, 41],\n        iconAnchor: [10, 41],\n        popupAnchor: [2, -40],\n        iconUrl: '/images/bikeImg.jpg',\n        shadowUrl: 'https://unpkg.com/leaflet@1.6/dist/images/marker-shadow.png'\n      })\n      let marker = Leaflet.marker(pickupLocation, {\n        icon: bikeIcon\n      }).addTo(mapRef.current)\n\n      routingControlRef.current = Leaflet.Routing.control({\n        waypoints: [\n          Leaflet.latLng(pickupLocation),\n          Leaflet.latLng(deliveryLocation)\n        ],\n        routeWhileDragging: true\n      }).addTo(mapRef.current)\n\n      routingControlRef.current.on('routeselected', function (e) {\n        const route = e.route\n        const cord = []\n        for (const coordinates of route.coordinates) {\n          cord.push(coordinates)\n        }\n        const interval = setInterval(() => {\n          if (marker !== null) mapRef.current.removeLayer(marker)\n          socket.emit('liveLocation', { lat: cord[0].lat, lng: cord[0].lng })\n\n          marker = Leaflet.marker([cord[0].lat, cord[0].lng], {\n            icon: bikeIcon\n          }).addTo(mapRef.current)\n          cord.shift()\n          if (!cord.length) {\n            clearInterval(interval)\n          }\n        }, 1000)\n      })\n    }\n    if (orderStatus) map()\n  }, [orderStatus])\n\n  return (\n    <div className='order-page'>\n      <h1>Delivery page</h1>\n      <div id='mapid' />\n      {requirement && (\n        <div className='order-rows-container'>\n          <div className='order-row'>\n            <p>Order from {requirement}</p>\n            <button\n              onClick={() => orderStatusUpdation()}\n              disabled={orderStatus}\n            >\n              accept\n            </button>\n          </div>\n          {orderStatus && (\n            <div className='order-row'>\n              <p>Order Picked</p>\n              <button onClick={orderPickedUp}>Picked</button>\n            </div>\n          )}\n          {orderPickStatus && (\n            <div className='order-row'>\n              <p>Order Status</p>\n              <button onClick={orderCompleted}>Completed</button>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function DeliveryGuySignup () {\n  return (\n    <div className='overlay'>\n      <div>\n        <h3>Wroking on this</h3>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { setCookie } from '../util/cookies'\n\nexport default function DeliveryGuySignin ({\n  setShowLogin,\n  setShowRegister,\n  setIsLoggedIn\n}) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMsg, setErrorMsg] = useState('')\n\n  const deliveryGuyLogin = async event => {\n    event.preventDefault()\n    try {\n      const response = await window.fetch(\n        'http://localhost:5000/deliveryguy/login',\n        {\n          method: 'POST',\n          body: JSON.stringify({ email, password }),\n          headers: {\n            'Content-type': 'application/json'\n          }\n        }\n      )\n      if (response.ok) {\n        const jsonData = await response.json()\n        setCookie('delivery-token', jsonData.accessToken)\n        setEmail('')\n        setPassword('')\n        setShowLogin(false)\n        setIsLoggedIn(jsonData.deliveryguyid)\n        // getCart()\n      } else {\n        throw response\n      }\n    } catch (err) {\n      const jsonData = await err.json()\n      // console.log('jsonError', jsonData)\n      setEmail('')\n      setPassword('')\n      setErrorMsg(jsonData.msg)\n      // console.log(err)\n    }\n  }\n  return (\n    <div>\n      <div className='overlay'>\n        <div className='signin-container'>\n          <div className='form-container'>\n            <div className='signupNin-title-container'>\n              <h1 className='heading'>Login</h1>\n              <img\n                src='/images/closeIcon.png'\n                onClick={() => setShowLogin(false)}\n              />\n            </div>\n            <form onSubmit={deliveryGuyLogin}>\n              <div className='errorMessage'>{errorMsg}</div>\n              <div className='form-row'>\n                <label>Email</label>\n                <input\n                  type='email'\n                  value={email}\n                  placeholder='Enter Email'\n                  onChange={e => setEmail(e.target.value)}\n                  required\n                  title='enter a valid email address'\n                />\n              </div>\n              <div className='form-row'>\n                <label>Password</label>\n                <input\n                  type='password'\n                  value={password}\n                  placeholder='Enter password'\n                  required\n                  pattern='.{6,}'\n                  title='6 characters minimum'\n                  onChange={e => setPassword(e.target.value)}\n                />\n              </div>\n              <div className='form-row'>\n                <button type='submit'>Log In</button>\n              </div>\n              {/* <div className='form-footer'>\n                <p\n                  onClick={() => {\n                    setShowLogin(false)\n                    setShowRegister(true)\n                  }}\n                >\n                  Dont have an account,click here to Register\n                </p>\n              </div> */}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport './delivery.css'\nimport Signup from './DeliveryGuySignup'\nimport Signin from './DeliveryGuySignin'\n\nexport default function DeliveryNavbar ({\n  showLogin,\n  showRegister,\n  setShowRegister,\n  setShowLogin\n}) {\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\n\n  if (isLoggedIn) {\n    return <Redirect to={`/delivery/${isLoggedIn}`} />\n  }\n  return (\n    <div className='delivery-nav-container'>\n      <h3>Donesooo deliverypage</h3>\n      {/* <span onClick={() => setShowLogin(true)}>signin</span> */}\n      {showLogin && (\n        <Signin\n          setShowLogin={setShowLogin}\n          setShowRegister={setShowRegister}\n          setIsLoggedIn={setIsLoggedIn}\n        />\n      )}\n      {showRegister && <Signup />}\n    </div>\n  )\n}\n","import React, { useState } from 'react'\n\nimport DeliveryNavbar from './DeliveryNavbar'\n\nexport default function DeliveryHome () {\n  const [showLogin, setShowLogin] = useState(false)\n  const [showRegister, setShowRegister] = useState(false)\n  return (\n    <div className='delivery-home-page'>\n      <DeliveryNavbar\n        showLogin={showLogin}\n        showRegister={showRegister}\n        setShowRegister={setShowRegister}\n        setShowLogin={setShowLogin}\n      />\n      <div className='delivery-home-container'>\n        <h1>Wanna become a delivery Partner!!!!</h1>\n        <div className='sign-buttons-container'>\n          <button\n            onClick={() => {\n              setShowLogin(true)\n            }}\n          >\n            SignIn\n          </button>\n          <button>SignUp</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\n// import io from 'socket.io-client'\n\n// let socket\n\nexport default function Business () {\n  return (\n    <div>\n      <h2>Bussiness Page</h2>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Navbar from '../navbar/Navbar'\nimport './PageNotFound.css'\n\nexport default function PageNotFound () {\n  return (\n    <div className='page-not-found-page'>\n      <Navbar />\n      <div className='page-not-found-container'>\n        <h2 className='page-not-found-h2'>Uh oh...</h2>\n        <p>This Page Doesnt seen to Exist</p>\n\n        <Link to='/'>\n          <button>Go To Home Page</button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport { AppContextProvider } from './components/context/App/AppContext'\n\nimport Categories from './components/categories/Categories'\nimport Shops from './components/shops/Shops'\nimport Items from './components/items/items'\nimport Checkout from './components/checkout/Checkout'\nimport Map from './components/map/Map'\nimport DeliveryHome from './components/delivery/DeliveryHome'\nimport Delivery from './components/delivery'\nimport Business from './components/business/business'\nimport PageNotFound from './components/pageNotFound'\n\nfunction App () {\n  return (\n    <div className='App'>\n      <Router>\n        <AppContextProvider>\n          <Switch>\n            <Route path='/' exact component={Categories} />\n            <Route\n              path='/stores/:categoryname/:categoryid'\n              exact\n              component={Shops}\n            />\n            <Route path='/checkout/:shopid' component={Checkout} />\n            <Route path='/business' component={Business} />\n            <Route path='/track-order/:orderid' component={Map} />\n            <Route\n              path='/:categoryid/shop/:shopname/:shopid'\n              component={Items}\n            />\n            <Route path='/delivery' exact component={DeliveryHome} />\n            <Route path='/delivery/:deliveryguyid' component={Delivery} />\n            <Route path='*' component={PageNotFound} />\n          </Switch>\n        </AppContextProvider>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}